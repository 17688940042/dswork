var $jskey=$jskey||{};
;!function(){"use strict";
$jskey.$=function(id){return document.getElementById(id);};$jskey.$byTagName=function(name){return document.getElementsByTagName(name);};$jskey.$dateFormat=function(d,f){var t={"y+":d.getFullYear(),"M+":d.getMonth()+1,"d+":d.getDate(),"H+":d.getHours(),"m+":d.getMinutes(),"s+":d.getSeconds(),"S+":d.getMilliseconds()};var _t;for(var k in t){while(new RegExp("("+k+")").test(f)){_t=(RegExp.$1.length==1)? t[k]:("0000000000".substring(0,RegExp.$1.length)+t[k]).substr((""+t[k]).length);f=f.replace(RegExp.$1,_t+"");}}return f;};$jskey.$replace=function(str,t,u){str=str+"";var i=str.indexOf(t);var r="";while(i !=-1){r+=str.substring(0,i)+u;str=str.substring(i+t.length,str.length);i=str.indexOf(t);}r=r+str;return r;};$jskey.$link=function(path){var k=document.createElement("link");k.rel="stylesheet";k.type="text/css";k.href=path;document.getElementsByTagName("head")[0].appendChild(k);k=null;};
$jskey.$src=$jskey.$replace($jskey.$byTagName("script")[$jskey.$byTagName("script").length-1].src+"","\\","/");$jskey.$path=$jskey.$src.substring(0,$jskey.$src.lastIndexOf("/")+1);try{if($jskey.$path.length>7&&$jskey.$path.substring($jskey.$path.length-7)!="/jskey/"){$jskey.$path="/gzsso/js/mini/jskey/";}}catch(e){}

$jskey.validator={"Char":{"v":/^[A-Za-z0-9_]+$/,"msg":"允许字母、数字、下划线"},"Chinese":{"v":/^[\u4e00-\u9fa5]+$/,"msg":"只允许中文"},"Email":{"v":/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,"msg":"格式错误"},"English":{"v":/^[A-Za-z]+$/,"msg":"只允许字母"},"Mobile":{"v":/^(1\d{10})$/,"msg":"请输入手机号码(纯数字)"},"Money":{"v":/^(([1-9](\d+)?)|0)(\.\d+)?$/,"msg":"请输入金额"},"Numeral":{"v":/^\d+$/,"msg":"请输入数字"},"Phone":{"v":/^((0\d{2,3})|(\(0\d{2,3}\)))?(-)?[1-9]\d{6,10}(([\-0-9]+)?[^\D]{1})?$/,"msg":"请输入电话号码"},"Require":{"v":/\S+/,"msg":"必填"},"RequireCompact":{"v":/^\S+$/,"msg":"必填(无空格)"},"RequireTrim":{"v":/(^[^\s]{1}(.+)?[^\s]{1}$)|(^[^\s]{1}$)/,"msg":"必填(无前后空格)"},"Url":{"v":/^http(s)?:\/\/[\w\-]+(\.[\w\-]+)*(:(6553[0-5]|655[0-2]\d|65[0-4]\d{2}|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{1,3}|[1-9]))?(\/[\d\w\-\/\=\!\@\#\$\%\~\&\(\)\[\]\{\};\?\*\+\.]*)?$/,"msg":"格式错误"},"Zip":{"v":/^[1-9]\d{5}$/,"msg":"邮政编码不存在"},"Number":{"v":"this._Number(x.value)","msg":"请输入数值"},"NumberPlus":{"v":"this._NumberPlus(x.value)","msg":"请输入正数"},"NumberMinus":{"v":"this._NumberMinus(x.value)","msg":"请输入负数"},"Integer":{"v":"this._Integer(x.value)","msg":"请输入整数"},"IntegerPlus":{"v":"this._IntegerPlus(x.value)","msg":"请输入正整数"},"IntegerMinus":{"v":"this._IntegerMinus(x.value)","msg":"请输入负整数"},"Custom":{"v":"this._Custom(x.value,x.getAttribute('regexp'))","msg":""},"DateCheck":{"v":"this._DateCheck(x.value,x.getAttribute('operator'),$jskey.$(x.getAttribute('to')).value,x.getAttribute('require'))","msg":"日期不正确"},"Filename":{"v":"this._Filename(x.value)","msg":"不能为空,且不能包含下列字符 \\ \/ \:\* \? \"<>"},"Filter":{"v":"this._Filter(x.value,x.getAttribute('accept'))","msg":""},"Function":{"v":"this._Function(x.value,x.getAttribute('fn'))","msg":""},"Group":{"v":"this._Group(x.getAttribute('name'),x.getAttribute('min'),x.getAttribute('max'))","msg":""},"IdCard":{"v":"this._IdCard(x.value)","msg":"身份证号码错误"},"Limit":{"v":"this._Limit(x.value.length,x.getAttribute('min'),x.getAttribute('max'))","msg":""},"LimitB":{"v":"this._Limit(this._LenB(x.value),x.getAttribute('min'),x.getAttribute('max'))","msg":""},"OrgCode":{"v":"this._OrgCode(x.value)","msg":"组织机构代码错误"},"Password":{"v":"this._Password(x.value)","msg":"密码不符合安全规则"},"Repeat":{"v":"x.value==$jskey.$(x.getAttribute('to')).value","msg":"输入不一致"},"Range":{"v":"this._Range(x.value,x.getAttribute('min'),x.getAttribute('max'))","msg":"请输入正确整数"},"UnitCode":{"v":"this._UnitCode(x.value)","msg":"统一社会信用代码错误"},"UploadFile":{"v":"this._UploadFile(x.value)","msg":"请上传文件"},"UploadFileCheck":{"v":"this._UploadFileCheck(x.value)","msg":"请上传文件或取消(清空上传内容)"},"UserCard":{"v":"this._UserCard(x.value)","msg":"身份证号码错误"},$ErrorObj:[],$ErrorMsg:["\u4ee5\u4e0b\u539f\u56e0\u5bfc\u81f4\u63d0\u4ea4\u5931\u8d25\uff1a\t\t\t\t"],$AlertMsg:["\u4ee5\u4e0b\u539f\u56e0\u5bfc\u81f4\u63d0\u4ea4\u5931\u8d25\uff1a\t\t\t\t"],$num:1,$Array:function(formID,inputID,inputObject){var m=null;if(formID.length==0){m={arr:[]};var _o=(inputID.length>0 ? $jskey.$(inputID):inputObject);this.$Clear(_o);var _dt=_o.getAttribute("datatype")||_o.getAttribute("dataType");if(typeof(_dt)=="object"||typeof(this[_dt])=="undefined"){return m;}m.arr.push(_o);}else{m=$jskey.$(formID)||event.srcElement;if(m.arr !=null){for(var i=0;i<m.arr.length;i++){this.$Clear(m.arr[i]);}}m.arr=[];var _t=m.getElementsByTagName('*');var _dt;for(var i=0;i<_t.length;i++){this.$Clear(_t[i]);if(_t[i].getAttribute){_dt=_t[i].getAttribute("datatype")||_t[i].getAttribute("dataType");if(typeof(_dt)=="object"||typeof(this[_dt])=="undefined"){continue;}m.arr.push(_t[i]);}}}return m;},$OnBlur:function(obj,mode,show){this.Validate(null,mode,null,obj,show);},$OnFocus:function(obj){this.$Clear(obj);},Init:function(){var formID=arguments[0]||"";var mode=arguments[1]||"";var inputID=arguments[2]||"";var inputObject=arguments[3]||"";var show=arguments[4];if(show==null){show=true;}show=show ? true:false;var obj=this.$Array(formID,inputID,inputObject);var count=obj.arr.length;var e=this;for(var i=0;i<count;i++){var v=obj.arr[i];var _dt=v.getAttribute("datatype")||v.getAttribute("dataType");if(typeof(_dt)=="object"||typeof(this[_dt])=="undefined"||v.JskeyValidatorTrans){continue;}v.JskeyValidatorTrans=true;v.JskeyValidatorBlur=v.onblur;v.JskeyValidatorFocus=v.onfocus;v.JskeyValidatorShow=show;v.JskeyValidatorMode=3;v.onblur=function(){e.$OnBlur(this,this.JskeyValidatorMode,this.JskeyValidatorShow);if(typeof(this.JskeyValidatorBlur)=='function'){this.JskeyValidatorBlur();}};v.onfocus=function(){e.$OnFocus(this);if(typeof(this.JskeyValidatorFocus)=='function'){this.JskeyValidatorFocus();}};if(_dt=="Group"){var _g=document.getElementsByName(v.getAttribute("name"));for(var j=_g.length-1;j>=0;j--){_g[j].JskeyValidatorObj=v;if(!_g[j].JskeyValidatorTrans){_g[j].JskeyValidatorTrans=true;_g[j].JskeyValidatorBlur=_g[j].onblur;_g[j].JskeyValidatorFocus=_g[j].onfocus;_g[j].JskeyValidatorShow=show;_g[j].JskeyValidatorMode=mode;_g[j].onblur=function(){e.$OnBlur(this.JskeyValidatorObj,this.JskeyValidatorMode,this.JskeyValidatorShow);if(typeof(this.JskeyValidatorBlur)=='function'){this.JskeyValidatorBlur();}};_g[j].onfocus=function(){e.$OnFocus(this.JskeyValidatorObj);if(typeof(this.JskeyValidatorFocus)=='function'){this.JskeyValidatorFocus();}};}}}}},Validate:function(){var formID=arguments[0]||"";var mode=arguments[1]||"";var inputID=arguments[2]||"";var inputObject=arguments[3]||"";var show=arguments[4];if(show==null){show=true;}show=show ? true:false;this.Init(formID,mode,inputID,inputObject,show);var obj=this.$Array(formID,inputID,inputObject);var count=obj.arr.length;var errMsg="";var alertMsg="";this.$ErrorMsg.length=1;this.$AlertMsg.length=1;this.$ErrorObj.length=1;this.$ErrorObj[0]=obj;for(var i=0;i<count;i++){var x=obj.arr[i];var _dt=x.getAttribute("datatype")||x.getAttribute("dataType");if(typeof(_dt)=="object"||typeof(this[_dt])=="undefined"){continue;}if(x.getAttribute("require")=="false"&&x.value==""){continue;}if(x.getAttribute("msg")==null){errMsg=this[_dt].msg;}else{errMsg=x.getAttribute("msg");}if(x.getAttribute("alertMsg")==null||typeof(x.getAttribute("alertMsg"))=="undefined"){alertMsg=errMsg;}else{alertMsg=x.getAttribute("alertMsg");}switch(_dt){case "Number":case "NumberPlus":case "NumberMinus":case "Integer":case "IntegerPlus":case "IntegerMinus":case "Custom":case "DateCheck":case "Filename":case "Filter":case "Function":case "Group":case "IdCard":case "Limit":case "LimitB":case "OrgCode":case "Password":case "Repeat":case "Range":case "UnitCode":case "UploadFile":case "UploadFileCheck":case "UserCard":if(!eval(this[_dt].v)){this.$AddError(i,errMsg,alertMsg);}break;default:if(!this[_dt].v.test(x.value)){this.$AddError(i,errMsg,alertMsg);}break;}}if(this.$ErrorMsg.length>1){mode=mode||3;if(mode<3){mode=3;}var _c=this.$ErrorObj.length;switch(mode){case 4:alert(this.$AlertMsg.join("\n"));case 3:var _temp=(typeof(jQuery)=="function"&&$jskey.tooltip);for(var i=1;i<_c;i++){try{var _o=document.createElement("SPAN");this.$num++;_o.id="__ErrorMsgPanel"+this.$num;_o.style.color="#ff0000";this.$Clear(this.$ErrorObj[i]);this.$ErrorObj[i].JskeyValidator=_o.id;this.$ErrorObj[i].parentNode.appendChild(_o);_o.innerHTML=this.$ErrorMsg[i].replace(/\d+:/,"");if(_temp){var v=jQuery("#"+_o.id);var m=$("<img style=\"vertical-align:middle;\" src=\""+$jskey.$path+"themes/tooltip/tipx.gif"+"\"/>").attr("msg",v.html());v.html(m);m.tipx();if(show){m.tipx("show");}}}catch(e){alert(e.description);}}break;default:alert(this.$AlertMsg.join("\n"));break;}return false;}return true;},$Clear:function(o){try{o.parentNode.removeChild($jskey.$(o.JskeyValidator));o.JskeyValidator=null;}catch(e){}},$AddError:function(index,emsg,amsg){this.$ErrorObj[this.$ErrorObj.length]=this.$ErrorObj[0].arr[index];this.$ErrorMsg[this.$ErrorMsg.length]=this.$ErrorMsg.length+":"+emsg;this.$AlertMsg[this.$AlertMsg.length]=this.$AlertMsg.length+":"+amsg;},_Number:function(v){if(!isNaN(v)){if(v.length==0||v.indexOf("+")!=-1){return false;}if(v.indexOf(".")==0||v.indexOf("-.")==0||v.indexOf("00")==0||v.indexOf("-00")==0||v.lastIndexOf(".")==v.length-1){return false;}return true;}return false;},_NumberPlus:function(v){if(this._Number(v)){if(v.indexOf("-")!=-1){return false;}return true;}return false;},_NumberMinus:function(v){if(this._Number(v)){if(v.indexOf("-")!=-1){return true;}}return false;},_Integer:function(v){if(this._Number(v)){if(v.indexOf(".")!=-1){return false;}return true;}return false;},_IntegerPlus:function(v){if(this._Integer(v)){if(v.indexOf("-")!=-1){return false;}return true;}return false;},_IntegerMinus:function(v){if(this._Integer(v)){if(v.indexOf("-")!=-1){return true;}}return false;},_Custom:function(op,reg){return new RegExp(reg,"g").test(op);},_DateCheck:function(op1,operator,op2,require){if(require=="false"&&op2.length==0){return true;}try{if(op1.length==0||op2.length==0){return false;}var d1=_$ToDate(op1);var d2=_$ToDate(op2);if(typeof(d1)!="object"||typeof(d2)!="object"){return false;}switch(operator){case "==":return(d1==d2);case "!=":return(d1 !=d2);case ">":return(d1>d2);case ">=":return(d1>=d2);case "<":return(d1<d2);case "<=":return(d1<=d2);default:return(d1>=d2);}}catch(e){}return false;function _$ToDate(op){try{var o,_y,_M,_d;o=op.match(new RegExp("^(\\d{4})([-./])(\\d{1,2})\\2(\\d{1,2})"));_d=o[4];_M=o[3]* 1;_y=o[1];if(!parseInt(_M)){return "";}_M=_M==0 ? 12:_M;return new Date(_y,_M-1,_d);}catch(ee){}return "";}},_Filename:function(v){if(v.length==0){return false;}if(v.indexOf("\\")==-1&&v.indexOf("\/")==-1&&v.indexOf("\:")==-1&&v.indexOf("\*")==-1&&v.indexOf("\?")==-1&&v.indexOf("\"")==-1&&v.indexOf("<")==-1&&v.indexOf(">")==-1&&v.indexOf(".")!=0&&v.lastIndexOf(".")!=(v.length-1)){return true;}return false;},_Filter:function(input,filter){return new RegExp("^.+\.(?=EXT)(EXT)$".replace(/EXT/g,filter.split(/\s*,\s*/).join("|")),"gi").test(input);},_Function:function(value,fn){var result=false;value=$jskey.$replace(value,"\"","\\\"");value=$jskey.$replace(value,"\r","");value=$jskey.$replace(value,"\n","");eval("result="+fn+"(\""+$jskey.$replace(value,"\"","\\\"")+"\")");return result;},_Group:function(name,min,max){var _g=document.getElementsByName(name);var chk=0;min=min||1;max=max||_g.length;for(var i=_g.length-1;i>=0;i--){if(_g[i].checked){chk++;}}return min<=chk&&chk<=max;},_ID_CN:function(v){var _iSum=0;if(!(/^\d{17}([X\d]{1})$/i.test(v))){return false;}v=v.replace(/[X]{1}$/i,"a");if("11_12_13_14_15_21_22_23_31_32_33_34_35_36_37_41_42_43_44_45_46_50_51_52_53_54_61_62_63_64_65_71_81_82_91".indexOf(v.substr(0,2))==-1){return false;}var _bd=v.substr(6,4)+"/"+v.substr(10,2)+"/"+v.substr(12,2);if(_bd !=$jskey.$dateFormat(new Date(_bd),"yyyy/MM/dd")){return false;}for(var i=17;i>=0;i--){_iSum+=(Math.pow(2,i)% 11)* parseInt(v.charAt(17-i),11);}if(_iSum%11 !=1){return false;}return true;},_ID_HK:function(v){if(!(/^([A-Z]{1})\d{6}\(([0-9A]{1})\)$/.test(v))){return false;}var i1=v.charCodeAt(0)-64;var i2=v.charCodeAt(1)-48;var i3=v.charCodeAt(2)-48;var i4=v.charCodeAt(3)-48;var i5=v.charCodeAt(4)-48;var i6=v.charCodeAt(5)-48;var i7=v.charCodeAt(6)-48;var i8=v.charCodeAt(8);i8=i8-(i8==65 ? 55:48);var _iSum=i1*8+i2*7+i3*6+i4*5+i5*4+i6*3+i7*2+i8;if(_iSum%11 !=0){return false;}return true;},_ID_TW:function(v){if(!(/^([A-Z]{1})([12]{1})\d{8}$/.test(v))){return false;}var d1=parseInt(("ABCDEFGHJKLMNPQRSTUVXYWZIO".indexOf(v.charAt(0))+10),10);var x1=parseInt(d1/10,10);var x2=d1%10;var d2=parseInt(v.charAt(1),10);var d3=parseInt(v.charAt(2),10);var d4=parseInt(v.charAt(3),10);var d5=parseInt(v.charAt(4),10);var d6=parseInt(v.charAt(5),10);var d7=parseInt(v.charAt(6),10);var d8=parseInt(v.charAt(7),10);var d9=parseInt(v.charAt(8),10);var d10=parseInt(v.charAt(9),10);var _iSum=x1+x2*9+d2*8+d3*7+d4*6+d5*5+d6*4+d7*3+d8*2+d9;if(d10==10-_iSum%10){return true;}return false;},_ID_MO:function(v){if(!(/^([157]{1})\d{6}\(\d{1}\)$/.test(v))){return false;}return true;},_IdCard:function(v){return this._ID_CN(v);},_Limit:function(len,min,max){min=min||0;max=max||Number.MAX_VALUE;return min<=len&&len<=max;},_LenB:function(v){return v.replace(/[^\x00-\xff]/g,"***").length;},_OrgCode:function(v){if(!(/^([A-Z\d]{9})$/.test(v))){return false;}var CC="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";var WW=[3,7,9,10,5,8,4,2];var iSum=0;for(var i=0;i<8;i++){iSum+=CC.indexOf(v.charAt(i))* WW[i];}var C9=11-iSum%11;if(C9==11){C9=0;}if(C9==10){C9='X';}if(C9==v.charAt(8)){return true;}return false;},_Password:function(v){return !(/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/.test(v));},_Range:function(v,min,max){min=min||(-1 * Number.MAX_VALUE);max=max||Number.MAX_VALUE;return this._Integer(v)&&parseInt(min)<=parseInt(v)&&parseInt(v)<=parseInt(max);},_UnitCode:function(v){if(!(/^([ABCDEFGHJKLMNPQRTUWXY\d]{18})$/.test(v))){return false;}if(!this._OrgCode(v.substr(8,9))){return false;}if("11_12_13_19_21_31_41_51_52_53_59_61_71_81_91_92_93_99_A1_B1_C1_D1_E1_F1_G1_Y1".indexOf(v.substr(0,2))==-1){return false;}var CC="0123456789ABCDEFGHJKLMNPQRTUWXY0";var WW=[1,3,9,27,19,26,16,17,20,29,25,13,8,24,10,30,28];var iSum=0;for(var i=0;i<17;i++){iSum+=CC.indexOf(v.charAt(i))* WW[i];}if(CC.charAt(31-iSum%31)==v.charAt(17)){return true;}return false;},_UploadFile:function(v){if(v !=""){if(v=="0"){return false;}return true;}return false;},_UploadFileCheck:function(v){return v=="";},_UserCard:function(v){if(this._ID_CN(v)){return true;}else if(this._ID_HK(v)){return true;}else if(this._ID_TW(v)){return true;}else if(this._ID_MO(v)){return true;}return false;},submit:function(containerid,submitid,type){if(this.Validate(containerid,3)){if(type==null||type !="select"){var _msg="是否确定提交?";if(type=="insert")_msg="是否确定提交?";else if(type=="update")_msg="是否确定保存?";if(!confirm(_msg)){return false;}}$jskey.$(submitid).click();return true;}return false;}};
if(true){(new Image()).src=$jskey.$path+"themes/tooltip/tipx.gif";}
if(typeof(jQuery)=="function"){$jskey.$link($jskey.$path+"themes/tooltip/jskey_tooltip.css");(function($){function fix($e){if(typeof($e.attr('msg'))!='string'){$e.attr('msg',$e.attr('title')||'').removeAttr('title');}}$jskey.tooltip=function(element,options){this.$element=$(element);this.options=options;fix(this.$element);};$jskey.tooltip.prototype={show:function(){var t=this.getTitle();if(t){var $tip=this.tip();$tip.find('.jskey-tooltip-inner')[this.options.html ? 'html':'text'](t);$tip[0].className='jskey-tooltip';$tip.remove().css({top:0,left:0,visibility:'hidden',display:'block'}).appendTo(this.$element.parent());var p=$.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var ww=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;var g=this.options.show;var tp;switch(g.charAt(0)){case 'n':tp={top:p.top+p.height+this.options.offset,left:p.left+p.width / 2-ww / 2};break;case 's':tp={top:p.top-actualHeight-this.options.offset,left:p.left+p.width / 2-ww / 2};break;case 'e':tp={top:p.top+p.height / 2-actualHeight / 2,left:p.left-ww-this.options.offset};break;case 'w':tp={top:p.top+p.height / 2-actualHeight / 2,left:p.left+p.width+this.options.offset};break;}if(g.length==2){if(g.charAt(1)=='w'){tp.left=p.left+p.width / 2-15;}else{tp.left=p.left+p.width / 2-ww+15;}}$tip.css(tp).addClass('jskey-tooltip-'+g);$tip.css({visibility:'visible',opacity:this.options.opacity});}},hide:function(){this.tip().remove();},getTitle:function(){var t,$e=this.$element,o=this.options;var t,o=this.options;if(typeof o.title=='string'){t=$e.attr(o.title=='title' ? 'msg':o.title);}else if(typeof o.title=='function'){t=o.title.call($e[0]);}t=(''+t).replace(/(^\s*|\s*$)/,"");return t||o.text;},tip:function(){if(!this.$tip){this.$tip=$('<div class="jskey-tooltip"></div>').html('<div class="jskey-tooltip-arrow"></div><div class="jskey-tooltip-inner"/></div>');}return this.$tip;},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null;}}};$.fn.tipx=function(options){if(options===true){return this.data('tipx');}else if(typeof options=='string'){return this.data('tipx')[options]();}options=$.extend({},$.fn.tipx.defaults,options);if(options.show==""){options.show=$.fn.tipx.autoWE(this);}function get(ele){var tipx=$.data(ele,'tipx');if(!tipx){tipx=new $jskey.tooltip(ele,$.fn.tipx.init(ele,options));$.data(ele,'tipx',tipx);}return tipx;}function enter(){var tipx=get(this);tipx.show();}function leave(){var tipx=get(this);tipx.hide();}if(!options.live)this.each(function(){get(this);});this['bind']('mouseenter',enter)['bind']('mouseleave',leave);return this;};$.fn.tipx.defaults={text:'',show:'',html:false,offset:0,opacity:1,title:'title'};$.fn.tipx.init=function(ele,options){return $.metadata ? $.extend({},options,$(ele).metadata()):options;};$.fn.tipx.autoWE=function(ele){return $(ele).offset().left>($(document).scrollLeft()+$(window).width()*3/4)? 'e':'w';};})(jQuery);}

}();


if(typeof($dswork)!="object"){$dswork={};}
$dswork.callback = null;
$dswork.validCallBack = function(){return true;};
$dswork.result = {type:"", msg:""};
$dswork.checkResult = function(responseText){$dswork.result = {type:"", msg:""};try{var _msg = "", _arr = (responseText + "").split(":");if(_arr.length > 1){_msg = _arr[1];}else{switch(_arr[0]){case "0": _msg = "操作失败！";break;case "1": _msg = "操作成功！";break;default: _msg = (!isNaN(_arr[0]))?"":_arr[0];}}$dswork.result = {type:_arr[0], msg:_msg};}catch(e){$dswork.result = {type:"", msg:""};}return $dswork.result.msg;};
document.write("<style type='text/css'>#div_maskContainer{display:none;}#div_maskBackground{z-index:9999;position:absolute;left:0px;top:0px;background-color:#fff;}#div_maskMessage{z-index:10000;width:300px;padding:40px;font-site:14px;font-weight:bold;position:absolute;text-align:center;background-color:#fff;border:#999 solid 3px;}</style>");
function MaskControl(){this.callBack = null;var self = this;this.show = function(html){var m = $("#div_maskContainer"),w = $(window).width(),h = $(window).height();if(m.length == 0){var s = "<div id='div_maskContainer'><div id='div_maskMessage'></div><div id='div_maskBackground'></div>";if(document.all){s += '<iframe style="left:expression(this.previousSibling.offsetLeft);top:expression(this.previousSibling.offsetTop);width:expression(this.previousSibling.offsetWidth);height:expression(this.previousSibling.offsetHeight);position:absolute;z-index:2000;display:expression(this.previousSibling.style.display);" scrolling="no" frameborder="no"></iframe>';}s += "</div>";$("body").append(m=$(s));}$("#div_maskBackground").css("top", 0).css("left", 0).css("width", w).css("height", h);var tip = $("#div_maskMessage");tip.html(html||"");m.show();var x = (w - tip.width()) / 2, y = (h - tip.height()) / 2;tip.css("left", x).css("top", y);};this.hide = function(){var m = $("#div_maskContainer");if(m.length == 0){return;}m.remove();if(self.callBack != null){self.callBack();}this.callBack = null;};this.autoDelayHide = function(html, timeOut){var m = $("#div_maskContainer");if(m.length == 0){this.show(html);}else{$("#div_maskMessage").html(html);}if(timeOut == undefined){timeOut = 3000;}window.setTimeout(this.hide, timeOut);};}
$dswork.doAjax = true;
$dswork.doAjaxObject = new MaskControl();
$dswork.showRequest = function(formData, jqForm, options){$dswork.doAjaxObject.show("正在保存<img src='" + $jskey.$path + "loading.gif' />");return true;};
$dswork.showResponse = function(data, status, xhr){$dswork.doAjaxObject.autoDelayHide($dswork.checkResult(data), 5000);$dswork.doAjaxObject.callBack = $dswork.callback;};
$dswork.doAjaxShow = function(data, callback){$dswork.doAjaxObject.autoDelayHide($dswork.checkResult(data), 5000);$dswork.doAjaxObject.callBack = callback;};
$dswork.doAjaxOption = {beforeSubmit:$dswork.showRequest,success:$dswork.showResponse};
$dswork.beforeSubmit = function(){if(!$dswork.validCallBack()){return false;}	return $jskey.validator.Validate("dataForm", 3);};
$dswork.readySubmit = function(){};
$(function(){
	$("#dataFormSave").click(function(){if($dswork.beforeSubmit()){if(confirm("确定保存吗？")){$dswork.readySubmit();$("#dataForm").ajaxSubmit($dswork.doAjaxOption);return true;}}return false;});
	$("#dataForm").submit(function(event){event.preventDefault();try{if($dswork.beforeSubmit()){if(confirm("确定保存吗？")){if($dswork.doAjax){$("#dataForm").ajaxSubmit($dswork.doAjaxOption);}else{$("#dataForm").submit();}return true;}}}catch(e){}});
});