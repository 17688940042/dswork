<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC
	"-//ibatis.apache.org//DTD Mapper 3.0//EN" 
	"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="common.auth.Auth">

	<resultMap id="result" type="common.auth.Auth">
		<id property="id" column="ID" />
		<result property="account" column="ACCOUNT" />
		<result property="password" column="PASSWORD" />
		<result property="name" column="NAME" />
		<result property="email" column="EMAIL" />
		<result property="status" column="STATUS" />
		<result property="qybm" column="QYBM" />
		<result property="ssdw" column="SSDW" />
		<result property="ssbm" column="SSBM" />
	</resultMap>

	<select id="getByAccount" resultMap="result">
		select ID, ACCOUNT, NAME, EMAIL, STATUS, QYBM, SSDW, SSBM
		from DS_EP_USER where ACCOUNT=#{account}
	</select>

	<select id="queryListAuth" resultMap="result">
		select ID, ACCOUNT, NAME, EMAIL, STATUS, QYBM, SSDW, SSBM
		from DS_EP_USER where 1=1
		<if test="account == null"> and EMAIL=#{email} </if>
		<if test="email == null"> and ACCOUNT=#{account} </if>
	</select>

</mapper>
